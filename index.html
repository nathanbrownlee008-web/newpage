<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Top Daily Tips</title>

<style>
body { margin:0; font-family: Arial, sans-serif; background:#0b1220; color:white; }
header { padding:25px; font-size:28px; font-weight:600; border-bottom:1px solid #1f2a44; }
nav { padding:15px 25px; border-bottom:1px solid #1f2a44; }
button { padding:10px 16px; margin-right:10px; border:none; border-radius:10px; cursor:pointer; }
.primary { background:#10b981; color:black; }
.secondary { background:#1e293b; color:white; }
.container { padding:25px; }
.grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(320px,1fr)); gap:25px; }
.card { background:#121a2b; padding:20px; border-radius:14px; border:1px solid #1f2a44; transition:0.2s ease; }
.card.win { border:1px solid rgba(16,185,129,0.8); box-shadow:0 0 10px rgba(16,185,129,0.4); }
.card.loss { border:1px solid rgba(239,68,68,0.8); box-shadow:0 0 10px rgba(239,68,68,0.4); }
input, select { width:100%; padding:8px; margin-bottom:10px; border-radius:8px; border:1px solid #2a3a5e; background:#0f172a; color:white; }
.stat-box { background:#121a2b; padding:15px; border-radius:12px; border:1px solid #1f2a44; margin-bottom:20px; }
canvas { background:#121a2b; border-radius:12px; border:1px solid #1f2a44; }
.green { color:#10b981; }
.red { color:#ef4444; }
</style>
</head>

<body>

<header>Top Daily Tips</header>

<nav>
  <button class="secondary" onclick="setTab('value')">Value Bets</button>
  <button class="secondary" onclick="setTab('history')">History</button>
  <button class="secondary" onclick="setTab('pl')">Profit & Loss</button>
  <button class="primary" onclick="setTab('admin')">Admin</button>
</nav>

<div class="container">
  <div id="content"></div>
</div>

<script>

let bets = [];
let tab = "value";
let startingBankroll = 1000;

function todayDate(){ return new Date().toISOString().split("T")[0]; }
function edge(prob, odds){ if(!prob || !odds) return 0; return (prob/100 * odds - 1) * 100; }
function profit(odds, stake, result){ if(result==="win") return (odds-1)*stake; if(result==="loss") return -stake; return 0; }
function setTab(t){ tab=t; render(); }

function addBet(){
  bets.push({
    id:Date.now(),
    createdDate: todayDate(),
    match:"",
    market:"",
    odds:2,
    probability:50,
    stake:100,
    result:"pending"
  });
  setTab("value");
}

function updateBet(id, field, value){
  bets = bets.map(b => b.id===id ? {...b,[field]:value} : b);
  render();
}

function render(){
const content=document.getElementById("content");
content.innerHTML="";

if(tab==="value"){
  const grid=document.createElement("div");
  grid.className="grid";

  bets.filter(b=>b.createdDate===todayDate()).forEach(bet=>{
    const e=edge(bet.probability,bet.odds);
    const potential=(bet.odds-1)*bet.stake;
    const div=document.createElement("div");
    div.className="card " + (bet.result==="win"?"win":bet.result==="loss"?"loss":"");
    div.innerHTML=`
      <input placeholder="Match" value="${bet.match}" onchange="updateBet(${bet.id},'match',this.value)">
      <input placeholder="Market" value="${bet.market}" onchange="updateBet(${bet.id},'market',this.value)">
      <input type="number" placeholder="Odds" value="${bet.odds}" onchange="updateBet(${bet.id},'odds',parseFloat(this.value)||0)">
      <input type="number" placeholder="Probability %" value="${bet.probability}" onchange="updateBet(${bet.id},'probability',parseFloat(this.value)||0)">
      <input type="number" placeholder="Stake (£)" value="${bet.stake}" onchange="updateBet(${bet.id},'stake',parseFloat(this.value)||0)">
      <div>Edge: <strong>${e.toFixed(2)}%</strong></div>
      <div>Potential Profit: £${isNaN(potential)?0:potential.toFixed(2)}</div>
      <select onchange="updateBet(${bet.id},'result',this.value)">
        <option value="pending">Pending</option>
        <option value="win">Win</option>
        <option value="loss">Loss</option>
      </select>
    `;
    grid.appendChild(div);
  });
  content.appendChild(grid);
}

if(tab==="history"){
  const grid=document.createElement("div");
  grid.className="grid";
  bets.filter(b=>b.result!=="pending").forEach(bet=>{
    const p=profit(bet.odds,bet.stake,bet.result);
    const div=document.createElement("div");
    div.className="card " + (bet.result==="win"?"win":"loss");
    div.innerHTML=`
      <h3>${bet.match}</h3>
      <div>${bet.market}</div>
      <div>Stake: £${bet.stake}</div>
      <div>Result: ${bet.result.toUpperCase()}</div>
      <div class="${p>=0?'green':'red'}">Profit: £${p.toFixed(2)}</div>
    `;
    grid.appendChild(div);
  });
  content.appendChild(grid);
}

if(tab==="pl"){
  let bankroll = startingBankroll;
  let history = bets.filter(b=>b.result!=="pending");
  const stat=document.createElement("div");
  stat.className="stat-box";
  stat.innerHTML=`
    Starting Bankroll (£):
    <input type="number" value="${startingBankroll}" onchange="startingBankroll=parseFloat(this.value)||0; render();">
    <br><br>
    Current Bankroll: <strong>£${(startingBankroll + history.reduce((a,b)=>a+profit(b.odds,b.stake,b.result),0)).toFixed(2)}</strong>
  `;
  content.appendChild(stat);

  const canvas=document.createElement("canvas");
  canvas.width=600;
  canvas.height=300;
  content.appendChild(canvas);

  const ctx=canvas.getContext("2d");
  ctx.strokeStyle="#10b981";
  ctx.beginPath();

  let x=0;
  let step= canvas.width / (history.length+1);
  ctx.moveTo(0, canvas.height - bankroll/10);

  history.forEach(b=>{
    bankroll += profit(b.odds,b.stake,b.result);
    x += step;
    ctx.lineTo(x, canvas.height - bankroll/10);
  });

  ctx.stroke();
}

if(tab==="admin"){
  content.innerHTML=`
    <div class="stat-box">
      <button class="primary" onclick="addBet()">Add New Bet</button>
    </div>
  `;
}

}

render();

</script>

</body>
</html>
